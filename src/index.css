@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Application Background */
    --background: 243 28% 98%; /* #F3F4FB */
    --background-gradient: linear-gradient(135deg, hsl(243 28% 98%) 0%, hsl(239 41% 96%) 100%);
    --foreground: 249 15% 11%;
    
    /* Cards & Surfaces */
    --card: 0 0% 100%;
    --card-foreground: 249 15% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 249 15% 11%;
    
    /* Purple Primary Palette */
    --primary: 257 54% 74%; /* #A38FEC */
    --primary-light: 257 100% 91%; /* #E4D1FF */
    --primary-dark: 257 54% 64%;
    --primary-foreground: 0 0% 100%;
    
    /* Secondary & Muted */
    --secondary: 252 40% 94%;
    --secondary-foreground: 249 15% 11%;
    --muted: 252 40% 94%;
    --muted-foreground: 249 10% 39%;
    
    /* Accent Colors */
    --accent: 252 40% 94%;
    --accent-foreground: 249 15% 11%;
    
    /* Bright Accent Colors */
    --accent-cyan: 180 100% 41%; /* #00D1B2 */
    --accent-yellow: 48 96% 59%; /* #FCE83A */
    --accent-pink: 330 81% 60%; /* #E91E63 */
    --accent-lime: 84 85% 44%; /* #84CC16 */
    --accent-coral: 351 95% 71%; /* #FB7185 */
    --accent-amber: 45 93% 47%; /* #F59E0B */
    
    /* Status Colors */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    
    /* Borders & Inputs */
    --border: 252 20% 90%;
    --input: 252 20% 90%;
    --ring: 257 54% 74%;
    --radius: 1.5rem; /* 24px for modern look */
    
    /* Chart Colors - Purple variants */
    --chart-1: 257 54% 74%; /* Primary purple */
    --chart-2: 257 100% 91%; /* Light purple */
    --chart-3: 257 54% 64%; /* Dark purple */
    --chart-4: 280 100% 82%; /* Pink purple */
    --chart-5: 240 100% 85%; /* Blue purple */

    /* Glassmorphism Effects */
    --glass-bg: 0 0% 100% / 0.1;
    --glass-border: 257 54% 74% / 0.2;
    --glass-shadow: 257 54% 74% / 0.1;
    
    /* Dark Glassmorphism */
    --glass-dark-bg: 13 6% 5% / 0.85; /* Very dark with transparency */
    --glass-dark-border: 240 3% 20% / 0.3;
    --glass-dark-shadow: 0 0% 0% / 0.4;
    --header-dark: 240 5% 6%; /* #06060A */
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(257 54% 74%), hsl(257 100% 91%));
    --gradient-secondary: linear-gradient(135deg, hsl(252 40% 94%), hsl(0 0% 100%));
    --gradient-glass: linear-gradient(135deg, hsl(0 0% 100% / 0.2), hsl(257 54% 74% / 0.1));
    --gradient-dark: linear-gradient(135deg, hsl(13 6% 5% / 0.9), hsl(13 6% 8% / 0.7));
    --gradient-accent: linear-gradient(135deg, hsl(257 54% 74%), hsl(180 100% 41%));
    --gradient-bright: linear-gradient(135deg, hsl(257 54% 74%), hsl(48 96% 59%));

    /* Elevation Shadows */
    --shadow-sm: 0 1px 2px 0 hsl(257 54% 74% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(257 54% 74% / 0.1), 0 2px 4px -1px hsl(257 54% 74% / 0.06);
    --shadow-lg: 0 10px 15px -3px hsl(257 54% 74% / 0.1), 0 4px 6px -2px hsl(257 54% 74% / 0.05);
    --shadow-xl: 0 20px 25px -5px hsl(257 54% 74% / 0.1), 0 10px 10px -5px hsl(257 54% 74% / 0.04);
    --shadow-glass: 0 8px 32px 0 hsl(257 54% 74% / 0.12);
    --shadow-glow: 0 0 24px hsl(257 54% 74% / 0.4);
    --shadow-dark: 0 8px 32px 0 hsl(0 0% 0% / 0.3);

    /* Sidebar colors */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 249 15% 11%;
    --sidebar-primary: 257 54% 74%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 252 40% 94%;
    --sidebar-accent-foreground: 249 15% 11%;
    --sidebar-border: 252 20% 90%;
    --sidebar-ring: 257 54% 74%;
  }

  .dark {
    /* Dark mode - maintain purple theme */
    --background: 249 25% 8%;
    --foreground: 252 50% 95%;
    
    --card: 249 25% 10%;
    --card-foreground: 252 50% 95%;
    --popover: 249 25% 10%;
    --popover-foreground: 252 50% 95%;
    
    --primary: 257 54% 84%; /* Lighter purple for dark mode */
    --primary-light: 257 100% 95%;
    --primary-dark: 257 54% 74%;
    --primary-foreground: 249 25% 8%;
    
    --secondary: 249 25% 15%;
    --secondary-foreground: 252 50% 95%;
    --muted: 249 25% 15%;
    --muted-foreground: 252 20% 70%;
    
    --accent: 249 25% 15%;
    --accent-foreground: 252 50% 95%;
    
    --destructive: 0 84% 70%;
    --destructive-foreground: 249 25% 8%;
    
    --border: 249 25% 20%;
    --input: 249 25% 20%;
    --ring: 257 54% 84%;
    
    --chart-1: 257 54% 84%;
    --chart-2: 257 100% 95%;
    --chart-3: 257 54% 74%;
    --chart-4: 280 100% 88%;
    --chart-5: 240 100% 90%;

    /* Dark mode glassmorphism */
    --glass-bg: 0 0% 0% / 0.2;
    --glass-border: 257 54% 84% / 0.3;
    --glass-shadow: 257 54% 84% / 0.2;
    
    --gradient-primary: linear-gradient(135deg, hsl(257 54% 84%), hsl(257 100% 95%));
    --gradient-secondary: linear-gradient(135deg, hsl(249 25% 15%), hsl(249 25% 10%));
    --gradient-glass: linear-gradient(135deg, hsl(0 0% 0% / 0.3), hsl(257 54% 84% / 0.1));

    --shadow-sm: 0 1px 2px 0 hsl(257 54% 84% / 0.1);
    --shadow-md: 0 4px 6px -1px hsl(257 54% 84% / 0.2), 0 2px 4px -1px hsl(257 54% 84% / 0.1);
    --shadow-lg: 0 10px 15px -3px hsl(257 54% 84% / 0.2), 0 4px 6px -2px hsl(257 54% 84% / 0.1);
    --shadow-xl: 0 20px 25px -5px hsl(257 54% 84% / 0.2), 0 10px 10px -5px hsl(257 54% 84% / 0.08);
    --shadow-glass: 0 8px 32px 0 hsl(257 54% 84% / 0.2);

    /* Sidebar colors - Dark mode */
    --sidebar-background: 249 25% 10%;
    --sidebar-foreground: 252 50% 95%;
    --sidebar-primary: 257 54% 84%;
    --sidebar-primary-foreground: 249 25% 8%;
    --sidebar-accent: 249 25% 15%;
    --sidebar-accent-foreground: 252 50% 95%;
    --sidebar-border: 249 25% 20%;
    --sidebar-ring: 257 54% 84%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    color: hsl(var(--foreground));
    background: var(--background-gradient);
    font-family: 'Manrope', 'Poppins', system-ui, -apple-system, sans-serif;
  }
  
  /* iOS Safe Area Support */
  @supports (padding: max(0px)) {
    .safe-area-inset-top {
      padding-top: max(1rem, env(safe-area-inset-top));
    }
    
    .safe-area-inset-bottom {
      padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }
    
    .safe-area-inset-left {
      padding-left: max(1rem, env(safe-area-inset-left));
    }
    
    .safe-area-inset-right {
      padding-right: max(1rem, env(safe-area-inset-right));
    }
  }
  
  /* Enhanced Touch Targets for Mobile */
  @media (hover: none) and (pointer: coarse) {
    button, a, [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }
    
    input, select, textarea {
      min-height: 44px;
      font-size: 16px; /* Prevents zoom on iOS */
    }
  }
  
  /* Smooth Scrolling for iOS */
  * {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Scrollbar utilities */
  .scrollbar-thin {
    scrollbar-width: thin;
  }
  
  .scrollbar-thumb-muted {
    scrollbar-color: hsl(var(--muted)) transparent;
  }
  
  .scrollbar-track-transparent {
    scrollbar-color: transparent transparent;
  }

  /* Invisible scrollbars for canvas-like navigation */
  .scrollbar-hidden {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
  }
  
  .scrollbar-hidden::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }

  /* Mobile Drag & Drop Optimizations */
  .kanban-card {
    touch-action: none; /* Disable native touch behaviors during drag */
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Enhanced mobile touch performance */
  @media (hover: none) and (pointer: coarse) {
    .kanban-card {
      transform: translateZ(0); /* Force hardware acceleration */
      backface-visibility: hidden;
      perspective: 1000px;
    }
    
    .kanban-card:active {
      transform: translateZ(0) scale(1.02);
      transition: transform 0.1s ease-out;
    }
  }

  /* Improve scroll performance on mobile */
  .snap-x {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* Disable text selection during drag operations */
  .dnd-context * {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
}

/* Glassmorphism utilities */
@layer utilities {
  .glass-card {
    @apply bg-white/80 backdrop-blur-md border border-white/40;
    box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
  }
  
  .glass-card-solid {
    @apply bg-white/90 backdrop-blur-md border border-white/50;
    box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2);
  }
  
  .glass-card-dark {
    background: hsl(var(--glass-dark-bg));
    backdrop-filter: blur(16px);
    border: 1px solid hsl(var(--glass-dark-border));
    box-shadow: var(--shadow-dark);
  }
  
  .gradient-primary {
    background: var(--gradient-primary);
  }
  
  .gradient-glass {
    background: var(--gradient-glass);
  }
  
  .gradient-dark {
    background: var(--gradient-dark);
  }
  
  .gradient-accent {
    background: var(--gradient-accent);
  }
  
  .gradient-bright {
    background: var(--gradient-bright);
  }
  
  .hover-scale {
    @apply transition-all duration-200 ease-out;
  }
  
  .hover-scale:hover {
    @apply shadow-md;
    box-shadow: 0 4px 12px hsl(var(--primary) / 0.1);
  }
  
  .hover-lift {
    @apply transition-all duration-200 ease-out;
  }
  
  .hover-lift:hover {
    @apply translate-y-[-1px] shadow-lg;
    box-shadow: 0 8px 25px hsl(var(--primary) / 0.15);
  }
  
  .hover-glow:hover {
    box-shadow: var(--shadow-glow);
  }
  
  .text-gradient {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .text-gradient-bright {
    background: var(--gradient-bright);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
}