@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Application Background */
    --background: 252 100% 98%; /* #F7F6FA */
    --foreground: 249 15% 11%;
    
    /* Cards & Surfaces */
    --card: 0 0% 100%;
    --card-foreground: 249 15% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 249 15% 11%;
    
    /* Purple Primary Palette */
    --primary: 257 54% 74%; /* #A38FEC */
    --primary-light: 257 100% 91%; /* #E4D1FF */
    --primary-dark: 257 54% 64%;
    --primary-foreground: 0 0% 100%;
    
    /* Secondary & Muted */
    --secondary: 252 40% 94%;
    --secondary-foreground: 249 15% 11%;
    --muted: 252 40% 94%;
    --muted-foreground: 249 10% 39%;
    
    /* Accent Colors */
    --accent: 252 40% 94%;
    --accent-foreground: 249 15% 11%;
    
    /* Status Colors */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    
    /* Borders & Inputs */
    --border: 252 20% 90%;
    --input: 252 20% 90%;
    --ring: 257 54% 74%;
    --radius: 1.5rem; /* 24px for modern look */
    
    /* Chart Colors - Purple variants */
    --chart-1: 257 54% 74%; /* Primary purple */
    --chart-2: 257 100% 91%; /* Light purple */
    --chart-3: 257 54% 64%; /* Dark purple */
    --chart-4: 280 100% 82%; /* Pink purple */
    --chart-5: 240 100% 85%; /* Blue purple */

    /* Glassmorphism Effects */
    --glass-bg: 0 0% 100% / 0.1;
    --glass-border: 257 54% 74% / 0.2;
    --glass-shadow: 257 54% 74% / 0.1;
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(257 54% 74%), hsl(257 100% 91%));
    --gradient-secondary: linear-gradient(135deg, hsl(252 40% 94%), hsl(0 0% 100%));
    --gradient-glass: linear-gradient(135deg, hsl(0 0% 100% / 0.2), hsl(257 54% 74% / 0.1));

    /* Elevation Shadows */
    --shadow-sm: 0 1px 2px 0 hsl(257 54% 74% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(257 54% 74% / 0.1), 0 2px 4px -1px hsl(257 54% 74% / 0.06);
    --shadow-lg: 0 10px 15px -3px hsl(257 54% 74% / 0.1), 0 4px 6px -2px hsl(257 54% 74% / 0.05);
    --shadow-xl: 0 20px 25px -5px hsl(257 54% 74% / 0.1), 0 10px 10px -5px hsl(257 54% 74% / 0.04);
    --shadow-glass: 0 8px 32px 0 hsl(257 54% 74% / 0.12);

    /* Sidebar colors */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 249 15% 11%;
    --sidebar-primary: 257 54% 74%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 252 40% 94%;
    --sidebar-accent-foreground: 249 15% 11%;
    --sidebar-border: 252 20% 90%;
    --sidebar-ring: 257 54% 74%;
  }

  .dark {
    /* Dark mode - maintain purple theme */
    --background: 249 25% 8%;
    --foreground: 252 50% 95%;
    
    --card: 249 25% 10%;
    --card-foreground: 252 50% 95%;
    --popover: 249 25% 10%;
    --popover-foreground: 252 50% 95%;
    
    --primary: 257 54% 84%; /* Lighter purple for dark mode */
    --primary-light: 257 100% 95%;
    --primary-dark: 257 54% 74%;
    --primary-foreground: 249 25% 8%;
    
    --secondary: 249 25% 15%;
    --secondary-foreground: 252 50% 95%;
    --muted: 249 25% 15%;
    --muted-foreground: 252 20% 70%;
    
    --accent: 249 25% 15%;
    --accent-foreground: 252 50% 95%;
    
    --destructive: 0 84% 70%;
    --destructive-foreground: 249 25% 8%;
    
    --border: 249 25% 20%;
    --input: 249 25% 20%;
    --ring: 257 54% 84%;
    
    --chart-1: 257 54% 84%;
    --chart-2: 257 100% 95%;
    --chart-3: 257 54% 74%;
    --chart-4: 280 100% 88%;
    --chart-5: 240 100% 90%;

    /* Dark mode glassmorphism */
    --glass-bg: 0 0% 0% / 0.2;
    --glass-border: 257 54% 84% / 0.3;
    --glass-shadow: 257 54% 84% / 0.2;
    
    --gradient-primary: linear-gradient(135deg, hsl(257 54% 84%), hsl(257 100% 95%));
    --gradient-secondary: linear-gradient(135deg, hsl(249 25% 15%), hsl(249 25% 10%));
    --gradient-glass: linear-gradient(135deg, hsl(0 0% 0% / 0.3), hsl(257 54% 84% / 0.1));

    --shadow-sm: 0 1px 2px 0 hsl(257 54% 84% / 0.1);
    --shadow-md: 0 4px 6px -1px hsl(257 54% 84% / 0.2), 0 2px 4px -1px hsl(257 54% 84% / 0.1);
    --shadow-lg: 0 10px 15px -3px hsl(257 54% 84% / 0.2), 0 4px 6px -2px hsl(257 54% 84% / 0.1);
    --shadow-xl: 0 20px 25px -5px hsl(257 54% 84% / 0.2), 0 10px 10px -5px hsl(257 54% 84% / 0.08);
    --shadow-glass: 0 8px 32px 0 hsl(257 54% 84% / 0.2);

    /* Sidebar colors - Dark mode */
    --sidebar-background: 249 25% 10%;
    --sidebar-foreground: 252 50% 95%;
    --sidebar-primary: 257 54% 84%;
    --sidebar-primary-foreground: 249 25% 8%;
    --sidebar-accent: 249 25% 15%;
    --sidebar-accent-foreground: 252 50% 95%;
    --sidebar-border: 249 25% 20%;
    --sidebar-ring: 257 54% 84%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Manrope', 'Poppins', system-ui, -apple-system, sans-serif;
  }
  
  /* iOS Safe Area Support */
  @supports (padding: max(0px)) {
    .safe-area-inset-top {
      padding-top: max(1rem, env(safe-area-inset-top));
    }
    
    .safe-area-inset-bottom {
      padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }
    
    .safe-area-inset-left {
      padding-left: max(1rem, env(safe-area-inset-left));
    }
    
    .safe-area-inset-right {
      padding-right: max(1rem, env(safe-area-inset-right));
    }
  }
  
  /* Enhanced Touch Targets for Mobile */
  @media (hover: none) and (pointer: coarse) {
    button, a, [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }
    
    input, select, textarea {
      min-height: 44px;
      font-size: 16px; /* Prevents zoom on iOS */
    }
  }
  
  /* Smooth Scrolling for iOS */
  * {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Scrollbar utilities */
  .scrollbar-thin {
    scrollbar-width: thin;
  }
  
  .scrollbar-thumb-muted {
    scrollbar-color: hsl(var(--muted)) transparent;
  }
  
  .scrollbar-track-transparent {
    scrollbar-color: transparent transparent;
  }

  /* Invisible scrollbars for canvas-like navigation */
  .scrollbar-hidden {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
  }
  
  .scrollbar-hidden::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }

  /* Mobile Drag & Drop Optimizations */
  .kanban-card {
    touch-action: none; /* Disable native touch behaviors during drag */
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Enhanced mobile touch performance */
  @media (hover: none) and (pointer: coarse) {
    .kanban-card {
      transform: translateZ(0); /* Force hardware acceleration */
      backface-visibility: hidden;
      perspective: 1000px;
    }
    
    .kanban-card:active {
      transform: translateZ(0) scale(1.02);
      transition: transform 0.1s ease-out;
    }
  }

  /* Improve scroll performance on mobile */
  .snap-x {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* Disable text selection during drag operations */
  .dnd-context * {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
}

/* Glassmorphism utilities */
@layer utilities {
  .glass-card {
    @apply bg-white/10 backdrop-blur-md border border-white/20;
    box-shadow: var(--shadow-glass);
  }
  
  .glass-card-solid {
    @apply bg-card/80 backdrop-blur-md border border-border/50;
    box-shadow: var(--shadow-lg);
  }
  
  .gradient-primary {
    background: var(--gradient-primary);
  }
  
  .gradient-glass {
    background: var(--gradient-glass);
  }
  
  .hover-scale {
    @apply transition-all duration-300 ease-out;
  }
  
  .hover-scale:hover {
    @apply scale-[1.03];
    box-shadow: var(--shadow-xl);
  }
  
  .text-gradient {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
}